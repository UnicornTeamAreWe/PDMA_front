{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\PDMA\\\\code\\\\front\\\\src\\\\component\\\\Alipay_Det.js\";\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { Typography, Divider } from 'antd';\nconst {\n  Title,\n  Paragraph,\n  Text\n} = Typography;\n\nconst getAlipay = async (id, setData) => {\n  axios.post(\"http://3.85.56.92:8088/getAlipay\", qs.stringify({\n    id: id\n  })).then(response => {\n    setData(response.data);\n  }).catch(error => console.log(error));\n};\n\nexport function Alipay_Det() {\n  const [Alipay, setAlipay] = React.useState([]);\n  React.useEffect(() => {\n    getAlipay(1, data => setAlipay(data)).catch();\n  }, []);\n  console.log(Alipay);\n  let Income_name = [];\n  let Income_amount = [];\n  let Spend_name = [];\n  let Spend_amount = [];\n\n  let Calculate_Income = () => {\n    let Yu = -1;\n    Alipay.forEach(item => {\n      if (item.funding_state != null && item.funding_state.indexOf('交易成功') >= 0) {\n        if (item.income_spending != null && item.income_spending.indexOf('收入') >= 0) {\n          let position;\n\n          if (Income_name.length === 0) {\n            if (item.name != null && item.name.indexOf('余额宝') >= 0) {\n              Income_name.push('余额宝收益发放');\n              Income_amount.push(item.amount);\n              Yu = Income_name.indexOf('余额宝收益发放');\n            } else {\n              Income_name.push(item.name);\n              Income_amount.push(item.amount);\n            }\n          } else {\n            for (position = 0; position < Income_name.length; ++position) {\n              if (item.name != null && item.name.indexOf('余额宝') >= 0) {\n                if (Yu >= 0) {\n                  Income_amount[Yu] += item.amount;\n                  break;\n                } else {\n                  Income_name.push('余额宝收益发放');\n                  Income_amount.push(item.amount);\n                  Yu = Income_name.indexOf('余额宝收益发放');\n                  break;\n                }\n              } else if (Income_name[position] === item.name) {\n                Income_amount[position] += item.amount;\n                break;\n              } else if (position === Income_name.length - 1) {\n                if (item.name != null && item.name.indexOf('余额宝') >= 0) {\n                  Income_name.push('余额宝收益发放');\n                  Income_amount.push(item.amount);\n                  Yu = Income_name.indexOf('余额宝收益发放');\n                  break;\n                } else {\n                  Income_name.push(item.name);\n                  Income_amount.push(item.amount);\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n  };\n\n  let Calculate_Spend = () => {\n    Alipay.forEach(item => {\n      if (item.funding_state != null && item.funding_state.indexOf('交易成功') >= 0) {\n        if (item.income_spending != null && item.income_spending.indexOf('支出') >= 0) {\n          let position;\n\n          if (Spend_name.length === 0) {\n            Spend_name.push(item.name);\n            Spend_amount.push(item.amount);\n          } else {\n            for (position = 0; position < Spend_name.length; ++position) {\n              if (Spend_name[position] === item.name) {\n                Spend_amount[position] += item.amount;\n                break;\n              } else if (position === Spend_name.length - 1) {\n                Spend_name.push(item.name);\n                Spend_amount.push(item.amount);\n                break;\n              }\n            }\n          }\n        }\n      }\n    });\n  };\n\n  Calculate_Income();\n  Calculate_Spend();\n  let length1 = Income_name.length;\n  let length2 = Spend_name.length;\n  let Str1 = \"\";\n\n  let Income = () => {\n    let i = 0;\n    Income_name.forEach(item => {\n      Str1 += Income_name[i] + '部分收入' + Income_amount[i] + '元,';\n      i++;\n    });\n  };\n\n  Income();\n  let Str2 = \"\";\n\n  let Spend = () => {\n    let i = 0;\n    Spend_name.forEach(item => {\n      Str2 += Spend_name[i] + '部分支出' + Spend_amount[i] + '元,';\n      i++;\n    });\n  };\n\n  Spend();\n  let Sum1 = 0;\n\n  let Sum_Income = () => {\n    Sum1 = 0;\n    Income_amount.forEach(item => {\n      Sum1 += item;\n    });\n  };\n\n  Sum_Income();\n  let Sum2 = 0;\n\n  let Sum_Spend = () => {\n    Sum2 = 0;\n    Spend_amount.forEach(item => {\n      Sum2 += item;\n    });\n  };\n\n  Sum_Spend();\n  let data1 = [{\n    labels: Income_name,\n    values: Income_amount,\n    type: 'pie'\n  }];\n  let data2 = [{\n    labels: Spend_name,\n    values: Spend_amount,\n    type: 'pie'\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Plot, {\n    data: data1,\n    layout: {\n      width: 600,\n      height: 400,\n      title: 'Alipay Income Detailed Info'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Plot, {\n    data: data2,\n    layout: {\n      width: 600,\n      height: 400,\n      title: 'Alipay Spend Detailed Info'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"\\u5206\\u6790\\u62A5\\u544A\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  }, \"\\u7531\\u56FE\\u4E2D\\u5185\\u5BB9\\u53EF\\u77E5\\uFF0C\\u652F\\u4ED8\\u5B9D\\u7684\\u6536\\u5165\\u4E3B\\u8981\\u7531\", length1, \"\\u90E8\\u5206\\u6784\\u6210, \\u5176\\u4E2D\", Str1, \" \\u5171\\u6536\\u5165\", Sum1, \"\\u5143\\u3002\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, \"\\u7531\\u56FE\\u4E2D\\u5185\\u5BB9\\u53EF\\u77E5\\uFF0C\\u652F\\u4ED8\\u5B9D\\u7684\\u652F\\u51FA\\u4E3B\\u8981\\u7531\", length2, \"\\u90E8\\u5206\\u6784\\u6210, \\u5176\\u4E2D\", Str2, \" \\u5171\\u652F\\u51FA\", Sum2, \"\\u5143\\u3002\")));\n}","map":{"version":3,"sources":["C:/Users/Dell/PDMA/code/front/src/component/Alipay_Det.js"],"names":["React","Plot","axios","qs","Typography","Divider","Title","Paragraph","Text","getAlipay","id","setData","post","stringify","then","response","data","catch","error","console","log","Alipay_Det","Alipay","setAlipay","useState","useEffect","Income_name","Income_amount","Spend_name","Spend_amount","Calculate_Income","Yu","forEach","item","funding_state","indexOf","income_spending","position","length","name","push","amount","Calculate_Spend","length1","length2","Str1","Income","i","Str2","Spend","Sum1","Sum_Income","Sum2","Sum_Spend","data1","labels","values","type","data2","width","height","title"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { Typography, Divider } from 'antd';\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nconst getAlipay = async (id,setData)=>{\r\n    axios.post(\"http://3.85.56.92:8088/getAlipay\", qs.stringify({ id: id }))\r\n        .then(response =>{\r\n            setData(response.data)\r\n        })\r\n        .catch(error=>console.log(error));\r\n};\r\n\r\nexport function Alipay_Det() {\r\n    const [Alipay, setAlipay] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        getAlipay(1,(data)=>setAlipay(data)).catch()\r\n    },[]);\r\n\r\n    console.log(Alipay);\r\n    let Income_name = [];\r\n    let Income_amount = [];\r\n\r\n    let Spend_name = [];\r\n    let Spend_amount = [];\r\n\r\n    let Calculate_Income = () =>{\r\n        let Yu = -1;\r\n        Alipay.forEach(item =>{\r\n            if (item.funding_state != null && item.funding_state.indexOf('交易成功') >= 0){\r\n                if (item.income_spending != null && item.income_spending.indexOf('收入') >= 0){\r\n                    let position;\r\n                    if (Income_name.length === 0){\r\n                        if (item.name != null && item.name.indexOf('余额宝') >= 0){\r\n                            Income_name.push('余额宝收益发放');\r\n                            Income_amount.push(item.amount);\r\n                            Yu = Income_name.indexOf('余额宝收益发放');\r\n\r\n                        }\r\n                        else{\r\n                            Income_name.push(item.name);\r\n                            Income_amount.push(item.amount);\r\n                        }\r\n                    }\r\n                    else{\r\n                        for (position = 0; position < Income_name.length; ++position){\r\n                            if (item.name != null && item.name.indexOf('余额宝') >= 0){\r\n                                if (Yu >= 0){\r\n                                    Income_amount[Yu]+=item.amount;\r\n                                    break;\r\n                                }\r\n                                else{\r\n                                    Income_name.push('余额宝收益发放');\r\n                                    Income_amount.push(item.amount);\r\n                                    Yu = Income_name.indexOf('余额宝收益发放');\r\n                                    break;\r\n                                }\r\n                            }\r\n                            else if (Income_name[position] === item.name){\r\n                                Income_amount[position]+=item.amount;\r\n                                break;\r\n                            }\r\n                            else if (position === Income_name.length-1){\r\n                                if (item.name != null && item.name.indexOf('余额宝') >= 0){\r\n                                    Income_name.push('余额宝收益发放');\r\n                                    Income_amount.push(item.amount);\r\n                                    Yu = Income_name.indexOf('余额宝收益发放');\r\n                                    break;\r\n                                }\r\n                                else{\r\n                                    Income_name.push(item.name);\r\n                                    Income_amount.push(item.amount);\r\n                                    break;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    let Calculate_Spend = () =>{\r\n        Alipay.forEach(item =>{\r\n            if (item.funding_state != null && item.funding_state.indexOf('交易成功') >= 0){\r\n                if (item.income_spending != null && item.income_spending.indexOf('支出') >= 0){\r\n                    let position;\r\n                    if (Spend_name.length === 0){\r\n                        Spend_name.push(item.name);\r\n                        Spend_amount.push(item.amount);\r\n                    }\r\n                    else{\r\n                        for (position = 0; position < Spend_name.length; ++position){\r\n                           if (Spend_name[position] === item.name){\r\n                               Spend_amount[position]+=item.amount;\r\n                               break;\r\n                           }\r\n                            else if (position === Spend_name.length-1){\r\n                                Spend_name.push(item.name);\r\n                                Spend_amount.push(item.amount);\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    Calculate_Income();\r\n    Calculate_Spend();\r\n\r\n    let length1 = Income_name.length;\r\n    let length2 = Spend_name.length;\r\n\r\n    let Str1 = \"\";\r\n    let Income = ()=>{\r\n        let i = 0;\r\n        Income_name.forEach(item=>{\r\n            Str1 += Income_name[i]+'部分收入'+Income_amount[i]+'元,';\r\n            i++;\r\n        })\r\n    }\r\n    Income();\r\n\r\n    let Str2 = \"\";\r\n    let Spend = ()=>{\r\n        let i = 0;\r\n        Spend_name.forEach(item=>{\r\n            Str2 += Spend_name[i]+'部分支出'+Spend_amount[i]+'元,';\r\n            i++;\r\n        })\r\n    }\r\n    Spend();\r\n\r\n    let Sum1 = 0;\r\n    let Sum_Income = () =>{\r\n        Sum1 = 0;\r\n        Income_amount.forEach(item=>{\r\n            Sum1 += item;\r\n        })\r\n    }\r\n    Sum_Income();\r\n\r\n    let Sum2 = 0;\r\n    let Sum_Spend = () =>{\r\n        Sum2 = 0;\r\n        Spend_amount.forEach(item=>{\r\n            Sum2 += item;\r\n        })\r\n    }\r\n    Sum_Spend();\r\n\r\n    let data1 = [\r\n        {\r\n            labels: Income_name,\r\n            values: Income_amount,\r\n            type: 'pie',\r\n        }\r\n    ];\r\n\r\n    let data2 = [\r\n        {\r\n            labels: Spend_name,\r\n            values: Spend_amount,\r\n            type: 'pie',\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Plot\r\n                data={data1}\r\n                layout={ {width: 600, height: 400, title: 'Alipay Income Detailed Info'} }\r\n            />\r\n            <Plot\r\n                data={data2}\r\n                layout={ {width: 600, height: 400, title: 'Alipay Spend Detailed Info'} }\r\n            />\r\n            <Typography>\r\n                <Title>分析报告</Title>\r\n                <Paragraph>\r\n                    由图中内容可知，支付宝的收入主要由{length1}部分构成, 其中{Str1} 共收入{Sum1}元。\r\n                </Paragraph>\r\n\r\n                <Paragraph>\r\n                    由图中内容可知，支付宝的支出主要由{length2}部分构成, 其中{Str2} 共支出{Sum2}元。\r\n                </Paragraph>\r\n            </Typography>\r\n        </div>\r\n\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}