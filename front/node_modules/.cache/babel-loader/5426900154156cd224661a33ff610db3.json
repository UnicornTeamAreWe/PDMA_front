{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\PDMA\\\\code\\\\front\\\\src\\\\component\\\\Weibo_FollowInfo.js\";\nimport React from 'react';\nimport Plot from 'react-plotly.js';\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { Typography, Divider } from 'antd';\nconst {\n  Title,\n  Paragraph,\n  Text\n} = Typography;\n\nconst getWeibo = async (id, setData) => {\n  axios.post(\"http://localhost:8088/getWeibo\", qs.stringify({\n    id: id\n  })).then(response => {\n    setData(response.data);\n  }).catch(error => console.log(error));\n};\n\nexport function Weibo_FollowInfo() {\n  const [Weibo, setWeibo] = React.useState([]);\n  React.useEffect(() => {\n    getWeibo(1, data => setWeibo(data)).catch();\n  }, []);\n  console.log(Weibo);\n  let Info_arr = ['未分组', '脱口秀', '电影', '体育', '美', '游戏', '数码', '摄影', '情感', '宠物', '公安', '动漫', '明星', '名人', '同事', '同学'];\n  let Info = [];\n  Info.push(Weibo.unclassified);\n  Info.push(Weibo.cross_talk);\n  Info.push(Weibo.movie);\n  Info.push(Weibo.sports);\n  Info.push(Weibo.beauty);\n  Info.push(Weibo.game);\n  Info.push(Weibo.digital);\n  Info.push(Weibo.photography);\n  Info.push(Weibo.emotion);\n  Info.push(Weibo.pet);\n  Info.push(Weibo.police);\n  Info.push(Weibo.cartoon);\n  Info.push(Weibo.star);\n  Info.push(Weibo.celebrity);\n  Info.push(Weibo.colleague);\n  Info.push(Weibo.classmate);\n  let perc = [];\n  let j = 0;\n\n  let Percent = () => {\n    j = 0;\n    Info.forEach(item => {\n      perc.push((Info[j] * 100 / Weibo.follow).toFixed(2));\n      j++;\n    });\n  };\n\n  Percent();\n  let str = \"\";\n  let i = 0;\n\n  let Content = () => {\n    i = 0;\n    Info_arr.forEach(item => {\n      str += item + Info[i] + \"人, 占比\" + perc[i] + \"%,\";\n      i++;\n    });\n  };\n\n  Content();\n  let data1 = [{\n    x: Info_arr,\n    y: Info,\n    type: 'bar'\n  }];\n  let data2 = [{\n    labels: Info_arr,\n    values: Info,\n    type: 'pie'\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Plot, {\n    data: data1,\n    layout: {\n      width: 600,\n      height: 400,\n      title: 'Weibo Follow Info'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Plot, {\n    data: data2,\n    layout: {\n      width: 600,\n      height: 400,\n      title: 'Weibo Follow Info'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"\\u5206\\u6790\\u62A5\\u544A\"), /*#__PURE__*/React.createElement(Paragraph, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, \"\\u7531\\u56FE\\u4E2D\\u5185\\u5BB9\\u53EF\\u77E5\\uFF0C\\u5FAE\\u535A\\u5171\\u5173\\u6CE8\", Weibo.follow, \"\\u4EBA\\uFF0C\\u5176\\u4E2D\", str, \"\\u3002\")));\n}","map":{"version":3,"sources":["C:/Users/Dell/PDMA/code/front/src/component/Weibo_FollowInfo.js"],"names":["React","Plot","axios","qs","Typography","Divider","Title","Paragraph","Text","getWeibo","id","setData","post","stringify","then","response","data","catch","error","console","log","Weibo_FollowInfo","Weibo","setWeibo","useState","useEffect","Info_arr","Info","push","unclassified","cross_talk","movie","sports","beauty","game","digital","photography","emotion","pet","police","cartoon","star","celebrity","colleague","classmate","perc","j","Percent","forEach","item","follow","toFixed","str","i","Content","data1","x","y","type","data2","labels","values","width","height","title"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Plot from 'react-plotly.js';\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { Typography, Divider } from 'antd';\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nconst getWeibo = async (id,setData)=>{\r\n    axios.post(\"http://localhost:8088/getWeibo\", qs.stringify({ id: id }))\r\n        .then(response =>{\r\n            setData(response.data)\r\n        })\r\n        .catch(error=>console.log(error));\r\n};\r\n\r\nexport function Weibo_FollowInfo() {\r\n    const [Weibo, setWeibo] = React.useState([]);\r\n\r\n    React.useEffect(() => {\r\n        getWeibo(1,(data)=>setWeibo(data)).catch()\r\n    },[]);\r\n\r\n    console.log(Weibo);\r\n    let Info_arr = ['未分组', '脱口秀','电影', '体育', '美','游戏', '数码', '摄影','情感', '宠物', '公安','动漫', '明星', '名人','同事', '同学'];\r\n    let Info = [];\r\n    Info.push(Weibo.unclassified);\r\n    Info.push(Weibo.cross_talk);\r\n    Info.push(Weibo.movie);\r\n    Info.push(Weibo.sports);\r\n    Info.push(Weibo.beauty);\r\n    Info.push(Weibo.game);\r\n    Info.push(Weibo.digital);\r\n    Info.push(Weibo.photography);\r\n    Info.push(Weibo.emotion);\r\n    Info.push(Weibo.pet);\r\n    Info.push(Weibo.police);\r\n    Info.push(Weibo.cartoon);\r\n    Info.push(Weibo.star);\r\n    Info.push(Weibo.celebrity);\r\n    Info.push(Weibo.colleague);\r\n    Info.push(Weibo.classmate);\r\n\r\n    let perc = [];\r\n    let j = 0;\r\n    let Percent = ()=>{\r\n        j = 0;\r\n        Info.forEach(item=>{\r\n            perc.push((Info[j]*100/Weibo.follow).toFixed(2));\r\n            j++;\r\n        })\r\n\r\n    }\r\n    Percent();\r\n\r\n    let str=\"\";\r\n    let i = 0;\r\n    let Content = ()=>{\r\n        i = 0;\r\n        Info_arr.forEach(item=>{\r\n            str += item + Info[i] + \"人, 占比\"+ perc[i] +\"%,\";\r\n            i++;\r\n        })\r\n    }\r\n    Content();\r\n\r\n    let data1 = [\r\n        {\r\n            x: Info_arr,\r\n            y: Info,\r\n            type: 'bar'\r\n        }\r\n    ];\r\n\r\n    let data2 = [\r\n        {\r\n            labels: Info_arr,\r\n            values: Info,\r\n            type: 'pie'\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Plot\r\n                data={data1}\r\n                layout={ {width: 600, height: 400, title: 'Weibo Follow Info'} }\r\n            />\r\n            <Plot\r\n                data={data2}\r\n                layout={ {width: 600, height: 400, title: 'Weibo Follow Info'} }\r\n            />\r\n            <Typography>\r\n                <Title>分析报告</Title>\r\n                <Paragraph>\r\n                    由图中内容可知，微博共关注{Weibo.follow}人，其中{str}。\r\n                </Paragraph>\r\n            </Typography>\r\n        </div>);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}